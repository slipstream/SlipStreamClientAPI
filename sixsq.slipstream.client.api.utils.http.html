<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>sixsq.slipstream.client.api.utils.http documentation</title></head><body><header><section class="title"><h1><a href="index.html">SlipStream Client API Api Documentation</a></h1></section><small>Version: 3.1-SNAPSHOT</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sixsq</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>slipstream</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></div></li><li class="depth-5 branch"><a href="sixsq.slipstream.client.api.cimi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cimi</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lib</span></div></div></li><li class="depth-6"><a href="sixsq.slipstream.client.api.lib.run.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>run</span></div></a></li><li class="depth-5 branch"><a href="sixsq.slipstream.client.api.run.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>run</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></div></li><li class="depth-6 branch"><a href="sixsq.slipstream.client.api.utils.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-6 branch current"><a href="sixsq.slipstream.client.api.utils.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-6 branch"><a href="sixsq.slipstream.client.api.utils.http-async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-async</span></div></a></li><li class="depth-6 branch"><a href="sixsq.slipstream.client.api.utils.path.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path</span></div></a></li><li class="depth-6"><a href="sixsq.slipstream.client.api.utils.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">sixsq.slipstream.client.api.utils.http</h2><div class="doc"><div class="markdown"><p>Simple synchronous wrapper around an HTTP library to produce consistent CRUD interface.</p><p>The CRUD actions accept and produce <code>Ring</code>-style requests/responses.</p><p>Examples of the request/response.</p><p>GET using Basic authn req := {:accept :xml  :basic-auth [&ldquo;user&rdquo; &ldquo;password&rdquo;]} resp := {:status 200  :body &ldquo;&lt;Hello :)&gt;&rdquo;  :headers {&hellip;}}</p><p>GET using cookie req := {:accept :json  :headers {:cookie cookie}} resp := {:status 200  :body &ldquo;{&rdquo;Hello&ldquo;: &rdquo;:)&ldquo;}&rdquo;  :headers {&hellip;}}</p>
<pre><code class="clojure">(:body (get &quot;https://httpbin.org/get&quot;))
</code></pre><p>On HTTP error, thows ExceptionInfo with <code>:data</code> containing the full response. The response can be obtained with <code>(ex-data ex)</code></p>
<pre><code class="clojure">(let [{:keys [status body]}
      (try
        (get &quot;https://httpbin.org/error&quot;)
        (catch ExceptionInfo e (ex-data e)))
</code></pre></div></div><div class="public anchor" id="var-delete"><h3><a href="#var-delete">delete</a></h3><div class="usage"><code>(delete url &amp; [req])</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get"><h3><a href="#var-get">get</a></h3><div class="usage"><code>(get url &amp; [req])</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-post"><h3><a href="#var-post">post</a></h3><div class="usage"><code>(post url &amp; [req])</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-put"><h3><a href="#var-put">put</a></h3><div class="usage"><code>(put url &amp; [req])</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-request.21"><h3><a href="#var-request.21">request!</a></h3><div class="usage"><code>(request! meth url req)</code></div><div class="doc"><div class="markdown"><p>Synchronous request. Throws <code>ExecutionInfo</code> on HTTP errors with <code>:data</code> as Ring-style response. To extract the response on error, catch <code>ExecutionInfo</code> and call <code>(ex-data e)</code>.</p></div></div></div></section></section></body></html>